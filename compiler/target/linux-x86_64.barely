function is_pointer(nodes: *Nodes, index: whole_8): boolean {
    return =(nodes_get_id(nodes, index), NODE_POINTER);
};

function add_internal_functions_linux_x86-64(nodes: *Nodes) {
    variable function_arguments = autobuffer_new(24);
    autobuffer_array8_set(&(function_arguments), 0, "whole_8");
    variable function_returns = autobuffer_new(24);
    autobuffer_array8_set(&(function_returns), 0, "any_8");
    nodes_append_function(nodes, "@syscall0", AutoBuffer->buffer(&(function_arguments)), AutoBuffer->buffer(&(function_returns)));

    variable function_arguments = autobuffer_new(24);
    autobuffer_array8_set(&(function_arguments), 0, "whole_8");
    autobuffer_array8_set(&(function_arguments), 1, "any_8");
    variable function_returns = autobuffer_new(24);
    autobuffer_array8_set(&(function_returns), 0, "any_8");
    nodes_append_function(nodes, "@syscall1", AutoBuffer->buffer(&(function_arguments)), AutoBuffer->buffer(&(function_returns)));

    variable function_arguments = autobuffer_new(24);
    autobuffer_array8_set(&(function_arguments), 0, "whole_8");
    autobuffer_array8_set(&(function_arguments), 1, "any_8");
    autobuffer_array8_set(&(function_arguments), 2, "any_8");
    variable function_returns = autobuffer_new(24);
    autobuffer_array8_set(&(function_returns), 0, "any_8");
    nodes_append_function(nodes, "@syscall2", AutoBuffer->buffer(&(function_arguments)), AutoBuffer->buffer(&(function_returns)));

    variable function_arguments = autobuffer_new(24);
    autobuffer_array8_set(&(function_arguments), 0, "whole_8");
    autobuffer_array8_set(&(function_arguments), 1, "any_8");
    autobuffer_array8_set(&(function_arguments), 2, "any_8");
    autobuffer_array8_set(&(function_arguments), 3, "any_8");
    variable function_returns = autobuffer_new(24);
    autobuffer_array8_set(&(function_returns), 0, "any_8");
    nodes_append_function(nodes, "@syscall3", AutoBuffer->buffer(&(function_arguments)), AutoBuffer->buffer(&(function_returns)));

    variable function_arguments = autobuffer_new(24);
    autobuffer_array8_set(&(function_arguments), 0, "whole_8");
    autobuffer_array8_set(&(function_arguments), 1, "any_8");
    autobuffer_array8_set(&(function_arguments), 2, "any_8");
    autobuffer_array8_set(&(function_arguments), 3, "any_8");
    autobuffer_array8_set(&(function_arguments), 4, "any_8");
    variable function_returns = autobuffer_new(24);
    autobuffer_array8_set(&(function_returns), 0, "any_8");
    nodes_append_function(nodes, "@syscall4", AutoBuffer->buffer(&(function_arguments)), AutoBuffer->buffer(&(function_returns)));

    variable function_arguments = autobuffer_new(24);
    autobuffer_array8_set(&(function_arguments), 0, "whole_8");
    autobuffer_array8_set(&(function_arguments), 1, "any_8");
    autobuffer_array8_set(&(function_arguments), 2, "any_8");
    autobuffer_array8_set(&(function_arguments), 3, "any_8");
    autobuffer_array8_set(&(function_arguments), 4, "any_8");
    autobuffer_array8_set(&(function_arguments), 5, "any_8");
    variable function_returns = autobuffer_new(24);
    autobuffer_array8_set(&(function_returns), 0, "any_8");
    nodes_append_function(nodes, "@syscall5", AutoBuffer->buffer(&(function_arguments)), AutoBuffer->buffer(&(function_returns)));
};

function is_internal_function_linux_x86-64(name: *): boolean {
    return string_length=(name, "@syscall", 8);
};

global define_function_index: whole_8;
global define_structure_index: whole_8;

function output_linux_x86-64_elf(nodes: *Nodes, output_file: *) {
    variable output = autobuffer_new(512);

    variable file_header = new_elf64_file_header();
    ELF64FileHeader<-format(&(file_header), 2_whole_1);
    ELF64FileHeader<-endianness(&(file_header), 1_whole_1);
    ELF64FileHeader<-abi(&(file_header), 3_whole_1);
    ELF64FileHeader<-object_file_type(&(file_header), whole_8_to_whole_2(2));
    ELF64FileHeader<-machine(&(file_header), whole_8_to_whole_2(62));
    ELF64FileHeader<-entry_point(&(file_header), 4194536);
    ELF64FileHeader<-program_header_table(&(file_header), 64);
    ELF64FileHeader<-program_header_count(&(file_header), whole_8_to_whole_2(3));

    variable data_buffer = autobuffer_new(512);
    variable data_index = 0;

    variable instructions_buffer = autobuffer_new(512);
    variable instructions_index = 0;

    variable data_indexes_to_adjust = autobuffer_new(512);
    variable data_indexes_to_adjust_index = 0;

    variable data_indexes_to_adjust_relative = autobuffer_new(512);
    variable data_indexes_to_adjust_relative_index = 0;

    variable bss_indexes_to_adjust = autobuffer_new(512);
    variable bss_indexes_to_adjust_index = 0;

    variable bss_indexes_to_adjust_relative = autobuffer_new(512);
    variable bss_indexes_to_adjust_relative_index = 0;

    variable buffer = autobuffer_new(8388608);
    variable buffer_index = 0;

    variable data_buffer = autobuffer_new(131072);
    variable data_buffer_index = 0;

    variable bss_index = 0;

    variable bss_buffer = autobuffer_new(131072);
    variable bss_buffer_index = 0;

    autobuffer_push_lea_register8_offset_register8(&(instructions_buffer), &(instructions_index), RSP, 8, RAX);
    autobuffer_push_mov_register8_register8(&(instructions_buffer), &(instructions_index), RAX, R12);
    autobuffer_push_mov_register8_register8(&(instructions_buffer), &(instructions_index), RSP, R13);
    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBX);
    autobuffer_push_mov_register8_register8(&(instructions_buffer), &(instructions_index), RBX, R14);
    autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
    autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RBX);
    variable main_call = autobuffer_push_call_near(&(instructions_buffer), &(instructions_index));
    autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RAX, 60);
    autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RDI, 0);
    autobuffer_push_syscall(&(instructions_buffer), &(instructions_index));

    variable structure_members_array = autobuffer_new(1024);
    variable structure_member_names_array = autobuffer_new(1024);

    variable function_locations_array = autobuffer_new(1024);
    variable function_local_sizes_array = autobuffer_new(1024);
    variable function_argument_names_array = autobuffer_new(1024);
    variable function_arguments_array = autobuffer_new(1024);
    variable function_returns_array = autobuffer_new(1024);

    variable function_argument_names_map = hashmap_new(1024);
    variable function_arguments_map = hashmap_new(1024);
    variable function_returns_map = hashmap_new(1024);
    variable function_local_sizes_map = hashmap_new(1024);
    variable function_locations_map = hashmap_new(1024);
    variable index = 0;

    variable global_types_map = hashmap_new(512);
    variable global_locations_map = hashmap_new(512);

    variable define_types_map = hashmap_new(512);
    variable define_values_map = hashmap_new(512);

    variable memory_function_instructions_map = hashmap_new(1024);
    variable memory_function_instruction_sizes_map = hashmap_new(1024);

    variable push_functions = autobuffer_new(512);
    variable push_functions2 = autobuffer_new(512);
    variable push_function_targets = autobuffer_new(512);
    variable push_function_targets2 = autobuffer_new(512);
    variable push_function_index = 0;
    variable push_function_index2 = 0;

    variable calls = autobuffer_new(512);
    variable call_targets = autobuffer_new(512);
    variable call_index = 0;

    variable targets = autobuffer_new(512);

    variable jmps = autobuffer_new(512);
    variable jmp_targets = autobuffer_new(512);
    variable jmp_index = 0;

    variable jes = autobuffer_new(512);
    variable je_targets = autobuffer_new(512);
    variable je_index = 0;

    variable node_count = Nodes->index(nodes);
    variable i = 0;
    while <(i, node_count) {
        variable id = nodes_get_id(nodes, i);
        variable pointer_data = nodes_get_pointer_data(nodes, i);

        i = +(i, 1);
    };

    variable function_local_calculations_map = hashmap_new(512);
    variable function_local_calculations_array = autobuffer_new(512);

    i = 0;
    while <(i, node_count) {
        variable id = nodes_get_id(nodes, i);
        variable pointer_data = nodes_get_pointer_data(nodes, i);

        if =(id, NODE_FUNCTION) {
            variable function_data = @cast_*NodeFunctionData(pointer_data);
            if !(=(NodeFunctionData->name(function_data), 0)) {
                hashmap_string_put(&(function_argument_names_map), NodeFunctionData->name(function_data), NodeFunctionData->argument_names(function_data));
                hashmap_string_put(&(function_arguments_map), NodeFunctionData->name(function_data), NodeFunctionData->argument_types(function_data));
                hashmap_string_put(&(function_returns_map), NodeFunctionData->name(function_data), NodeFunctionData->returns(function_data));

                variable total = 16;
                variable j = i;
                while !(=(nodes_get_id(nodes, j), NODE_ENDFUNCTION)) {
                    variable id = nodes_get_id(nodes, j);
                    variable pointer_data = nodes_get_pointer_data(nodes, j);
                    
                    if =(id, NODE_DECLARE) {
                        variable declare_data = @cast_*NodeDeclareData(pointer_data);
                        variable declare_name = NodeDeclareData->name(declare_data);
                        variable declare_type = NodeDeclareData->type(declare_data);
                        total = +(total, get_size_linux_x86-642(declare_type, nodes));
                    };

                    j = +(j, 1);
                };

                hashmap_string_put(&(function_local_sizes_map), NodeFunctionData->name(function_data), total);
            } else {
                autobuffer_array8_set(&(function_argument_names_array), define_function_index, NodeFunctionData->argument_names(function_data));
                autobuffer_array8_set(&(function_arguments_array), define_function_index, NodeFunctionData->argument_types(function_data));
                autobuffer_array8_set(&(function_returns_array), define_function_index, NodeFunctionData->returns(function_data));

                autobuffer_array8_set(&(function_local_calculations_array), define_function_index, i);
                define_function_index = +(define_function_index, 1);
            };

            index = +(index, 1);
        } else if =(id, NODE_GLOBAL) {
            variable global_data = @cast_*NodeGlobalData(pointer_data);
            variable global_name = NodeGlobalData->name(global_data);
            variable global_type = NodeGlobalData->type(global_data);

            hashmap_string_put(&(global_types_map), global_name, global_type);
            variable global_location = bss_index;
            hashmap_string_put(&(global_locations_map), global_name, global_location);

            bss_index = +(bss_index, get_size_linux_x86-642(global_type, nodes));
        } else if =(id, NODE_STRUCTURE) {
            variable structure_data = @cast_*NodeStructureData(nodes_get_pointer_data(nodes, i));
            variable structure_name = NodeStructureData->name(structure_data);

            if =(structure_name, 0) {
                structure_name = get_structure_string_type(structure_data);

                autobuffer_array8_set(&(structure_members_array), define_structure_index, NodeStructureData->item_types(structure_data));
                autobuffer_array8_set(&(structure_member_names_array), define_structure_index, NodeStructureData->item_names(structure_data));

                define_structure_index = +(define_structure_index, 1);
            };

            // Setter for whole value
            variable allocated = brk_allocate(+(length(structure_name), 3));
            copy(structure_name, allocated, length(structure_name));
            copy("<-", @cast_*(+(allocated, length(structure_name))), 2);

            variable allocated2 = brk_allocate(+(length(structure_name), 2));
            copy(structure_name, allocated2, length(structure_name));
            copy("<", @cast_*(+(allocated2, length(structure_name))), 1);

            variable allocated_contents0 = autobuffer_new(8388608);
            variable allocated_contents01 = &(allocated_contents0);
            variable allocated_contents02 = autobuffer_new(8388608);
            variable allocated_contents03 = &(allocated_contents02);
            variable contents_index = 0;
            variable contents_index2 = 0;

            variable size = get_size_linux_x86-643(structure_name, nodes, define_values_map, structure_members_array);

            autobuffer_push_add_register8_whole_8(allocated_contents03, &(contents_index2), RSP, size);
            autobuffer_push_mov_register8_pointer_offset_register8(allocated_contents03, &(contents_index2), RSP , 0, RAX);
            autobuffer_push_sub_register8_whole_8(allocated_contents03, &(contents_index2), RSP, size);

            variable j = 0;
            while <(j, size) {
                variable done_anything_structure = false;

                if >(-(size, j), 7) {
                    autobuffer_push_mov_register8_pointer_offset_register8(allocated_contents03, &(contents_index2), RSP, j, RBX);
                    autobuffer_push_mov_register8_register8_pointer_offset(allocated_contents03, &(contents_index2), RBX, RAX, j);

                    j = +(j, 8);
                    done_anything_structure = true;
                };
                if &&(>(-(size, j), 3), !(done_anything_structure)) {
                    autobuffer_push_mov_register8_pointer_offset_register4(allocated_contents03, &(contents_index2), RSP, j, EBX);
                    autobuffer_push_mov_register4_register8_pointer_offset(allocated_contents03, &(contents_index2), EBX, RAX, j);

                    j = +(j, 4);
                    done_anything_structure = true;
                };
                if &&(>(-(size, j), 1), !(done_anything_structure)) {
                    autobuffer_push_mov_register8_pointer_offset_register2(allocated_contents03, &(contents_index2), RSP, j, BX);
                    autobuffer_push_mov_register2_register8_pointer_offset(allocated_contents03, &(contents_index2), BX, RAX, j);

                    j = +(j, 2);
                    done_anything_structure = true;
                };
                if &&(>(-(size, j), 0), !(done_anything_structure)) {
                    autobuffer_push_mov_register8_pointer_offset_register1(allocated_contents03, &(contents_index2), RSP, j, BL);
                    autobuffer_push_mov_register1_register8_pointer_offset(allocated_contents03, &(contents_index2), BL, RAX, j);

                    j = +(j, 1);
                    done_anything_structure = true;
                };
            };

            autobuffer_push_add_register8_whole_8(allocated_contents03, &(contents_index2), RSP, +(size, 8));

            hashmap_string_put(&(memory_function_instructions_map), allocated, AutoBuffer->buffer(allocated_contents03));
            hashmap_string_put(&(memory_function_instruction_sizes_map), allocated, contents_index2);
            hashmap_string_put(&(memory_function_instructions_map), allocated2, AutoBuffer->buffer(allocated_contents03));
            hashmap_string_put(&(memory_function_instruction_sizes_map), allocated2, contents_index2);

            // Getter for whole value
            variable allocated = brk_allocate(+(length(structure_name), 3));
            copy(structure_name, allocated, length(structure_name));
            copy("->", @cast_*(+(allocated, length(structure_name))), 2);

            variable allocated2 = brk_allocate(+(length(structure_name), 2));
            copy(structure_name, allocated2, length(structure_name));
            copy(">", @cast_*(+(allocated2, length(structure_name))), 1);

            variable allocated_contents1 = autobuffer_new(131072);
            variable allocated_contents11 = &(allocated_contents1);
            variable allocated_contents12 = autobuffer_new(131072);
            variable allocated_contents13 = &(allocated_contents12);
            variable contents_index = 0;
            variable contents_index2 = 0;

            autobuffer_push_pop_register8(allocated_contents13, &(contents_index2), RAX);
            autobuffer_push_sub_register8_whole_8(allocated_contents13, &(contents_index2), RSP, size);

            variable k = 0;
            while <(k, size) {
                variable done_anything_structure = false;

                if >(-(size, k), 7) {
                    autobuffer_push_mov_register8_pointer_offset_register8(allocated_contents13, &(contents_index2), RAX, k, RBX);
                    autobuffer_push_mov_register8_register8_pointer_offset(allocated_contents13, &(contents_index2), RBX, RSP, k);

                    k = +(k, 8);
                    done_anything_structure = true;
                };
                if &&(>(-(size, k), 3), !(done_anything_structure)) {
                    autobuffer_push_mov_register8_pointer_offset_register4(allocated_contents13, &(contents_index2), RAX, k, EBX);
                    autobuffer_push_mov_register4_register8_pointer_offset(allocated_contents13, &(contents_index2), EBX, RSP, k);

                    k = +(k, 4);
                    done_anything_structure = true;
                };
                if &&(>(-(size, k), 1), !(done_anything_structure)) {
                    autobuffer_push_mov_register8_pointer_offset_register2(allocated_contents13, &(contents_index2), RAX, k, BX);
                    autobuffer_push_mov_register2_register8_pointer_offset(allocated_contents13, &(contents_index2), BX, RSP, k);

                    k = +(k, 2);
                    done_anything_structure = true;
                };
                if &&(>(-(size, k), 0), !(done_anything_structure)) {
                    autobuffer_push_mov_register8_pointer_offset_register1(allocated_contents13, &(contents_index2), RAX, k, BL);
                    autobuffer_push_mov_register1_register8_pointer_offset(allocated_contents13, &(contents_index2), BL, RSP, k);

                    k = +(k, 1);
                    done_anything_structure = true;
                };
            };

            hashmap_string_put(&(memory_function_instructions_map), allocated, AutoBuffer->buffer(allocated_contents13));
            hashmap_string_put(&(memory_function_instruction_sizes_map), allocated, contents_index2);
            hashmap_string_put(&(memory_function_instructions_map), allocated2, AutoBuffer->buffer(allocated_contents13));
            hashmap_string_put(&(memory_function_instruction_sizes_map), allocated2, contents_index2);

            variable allocated_contents1 = autobuffer_new(131072);
            variable allocated_contents11 = &(allocated_contents1);
            variable allocated_contents12 = autobuffer_new(131072);
            variable allocated_contents13 = &(allocated_contents12);
            variable contents_index = 0;
            variable contents_index2 = 0;

            autobuffer_push_sub_register8_whole_8(allocated_contents13, &(contents_index2), RSP, size);

            variable k = 0;
            while <(k, size) {
                variable done_anything_structure = false;

                if >(-(size, k), 7) {
                    autobuffer_push_mov_whole_8_register8(allocated_contents13, &(contents_index2), RBX, 0);
                    autobuffer_push_mov_register8_register8_pointer_offset(allocated_contents13, &(contents_index2), RBX, RSP, k);

                    k = +(k, 8);
                    done_anything_structure = true;
                };
                if &&(>(-(size, k), 3), !(done_anything_structure)) {
                    autobuffer_push_mov_whole_4_register4(allocated_contents13, &(contents_index2), EBX, 0_whole_4);
                    autobuffer_push_mov_register4_register8_pointer_offset(allocated_contents13, &(contents_index2), EBX, RSP, k);

                    k = +(k, 4);
                    done_anything_structure = true;
                };
                if &&(>(-(size, k), 1), !(done_anything_structure)) {
                    autobuffer_push_mov_whole_2_register2(allocated_contents13, &(contents_index2), BX, 0_whole_2);
                    autobuffer_push_mov_register2_register8_pointer_offset(allocated_contents13, &(contents_index2), BX, RSP, k);

                    k = +(k, 2);
                    done_anything_structure = true;
                };
                if &&(>(-(size, k), 0), !(done_anything_structure)) {
                    autobuffer_push_mov_whole_1_register1(allocated_contents13, &(contents_index2), BL, 0_whole_1);
                    autobuffer_push_mov_register1_register8_pointer_offset(allocated_contents13, &(contents_index2), BL, RSP, k);

                    k = +(k, 1);
                    done_anything_structure = true;
                };
            };

            hashmap_string_put(&(memory_function_instructions_map), structure_name, AutoBuffer->buffer(allocated_contents13));
            hashmap_string_put(&(memory_function_instruction_sizes_map), structure_name, contents_index2);

            variable allocated = brk_allocate(+(length(structure_name), 4));
            copy(structure_name, allocated, length(structure_name));
            copy("->0", @cast_*(+(allocated, length(structure_name))), 3);

            variable allocated2 = brk_allocate(+(length(structure_name), 3));
            copy(structure_name, allocated2, length(structure_name));
            copy(">0", @cast_*(+(allocated2, length(structure_name))), 2);

            variable allocated_contents1 = autobuffer_new(131072);
            variable allocated_contents11 = &(allocated_contents1);
            variable allocated_contents12 = autobuffer_new(131072);
            variable allocated_contents13 = &(allocated_contents12);
            variable contents_index = 0;
            variable contents_index2 = 0;

            autobuffer_push_sub_register8_whole_8(allocated_contents13, &(contents_index2), RSP, size);

            variable k = 0;
            while <(k, size) {
                variable done_anything_structure = false;

                if >(-(size, k), 7) {
                    autobuffer_push_mov_whole_8_register8(allocated_contents13, &(contents_index2), RBX, 0);
                    autobuffer_push_mov_register8_register8_pointer_offset(allocated_contents13, &(contents_index2), RBX, RSP, k);

                    k = +(k, 8);
                    done_anything_structure = true;
                };
                if &&(>(-(size, k), 3), !(done_anything_structure)) {
                    autobuffer_push_mov_whole_4_register4(allocated_contents13, &(contents_index2), EBX, 0_whole_4);
                    autobuffer_push_mov_register4_register8_pointer_offset(allocated_contents13, &(contents_index2), EBX, RSP, k);

                    k = +(k, 4);
                    done_anything_structure = true;
                };
                if &&(>(-(size, k), 1), !(done_anything_structure)) {
                    autobuffer_push_mov_whole_2_register2(allocated_contents13, &(contents_index2), BX, 0_whole_2);
                    autobuffer_push_mov_register2_register8_pointer_offset(allocated_contents13, &(contents_index2), BX, RSP, k);

                    k = +(k, 2);
                    done_anything_structure = true;
                };
                if &&(>(-(size, k), 0), !(done_anything_structure)) {
                    autobuffer_push_mov_whole_1_register1(allocated_contents13, &(contents_index2), BL, 0_whole_1);
                    autobuffer_push_mov_register1_register8_pointer_offset(allocated_contents13, &(contents_index2), BL, RSP, k);

                    k = +(k, 1);
                    done_anything_structure = true;
                };
            };

            hashmap_string_put(&(memory_function_instructions_map), allocated, AutoBuffer->buffer(allocated_contents13));
            hashmap_string_put(&(memory_function_instruction_sizes_map), allocated, contents_index2);
            hashmap_string_put(&(memory_function_instructions_map), allocated2, AutoBuffer->buffer(allocated_contents13));
            hashmap_string_put(&(memory_function_instruction_sizes_map), allocated2, contents_index2);

            variable member_names = NodeStructureData->item_names(structure_data);
            variable member_types = NodeStructureData->item_types(structure_data);

            variable j = 0;
            while !(=(array8_get(member_names, j), 0)) {
                variable member_name = @cast_*(array8_get(member_names, j));
                variable member_type = @cast_*(array8_get(member_types, j));

                variable location = get_size_multiple_linux_x86-643(member_types, j, nodes, define_values_map, structure_members_array);

                variable allocated = brk_allocate(+(length(structure_name), +(length(member_name), 4)));
                copy("*", allocated, 1);
                copy(structure_name, @cast_*(+(allocated, 1)), length(structure_name));
                copy("->", @cast_*(+(+(allocated, length(structure_name)), 1)), 2);
                copy(member_name, @cast_*(+(+(allocated, +(length(structure_name), 2)), 1)), length(member_name));

                variable allocated2 = brk_allocate(+(length(structure_name), +(length(member_name), 3)));
                copy("*", allocated2, 1);
                copy(structure_name, @cast_*(+(allocated2, 1)), length(structure_name));
                copy(">", @cast_*(+(+(allocated2, length(structure_name)), 1)), 1);
                copy(member_name, @cast_*(+(+(allocated2, +(length(structure_name), 1)), 1)), length(member_name));

                variable allocated_contents4 = autobuffer_new(131072);
                variable allocated_contents41 = &(allocated_contents4);
                variable allocated_contents42 = autobuffer_new(131072);
                variable allocated_contents43 = &(allocated_contents42);
                variable contents_index = 0;
                variable contents_index2 = 0;

                autobuffer_push_pop_register8(allocated_contents43, &(contents_index2), RAX);
                autobuffer_push_add_register8_whole_8(allocated_contents43, &(contents_index2), RAX, location);
                autobuffer_push_push_register8(allocated_contents43, &(contents_index2), RAX);

                hashmap_string_put(&(memory_function_instructions_map), allocated, AutoBuffer->buffer(allocated_contents43));
                hashmap_string_put(&(memory_function_instruction_sizes_map), allocated, contents_index2);
                hashmap_string_put(&(memory_function_instructions_map), allocated2, AutoBuffer->buffer(allocated_contents43));
                hashmap_string_put(&(memory_function_instruction_sizes_map), allocated2, contents_index2);

                // Setter for individual members
                variable allocated = brk_allocate(+(length(structure_name), +(length(member_name), 3)));
                copy(structure_name, allocated, length(structure_name));
                copy("<-", @cast_*(+(allocated, length(structure_name))), 2);
                copy(member_name, @cast_*(+(allocated, +(length(structure_name), 2))), length(member_name));

                variable allocated2 = brk_allocate(+(length(structure_name), +(length(member_name), 2)));
                copy(structure_name, allocated2, length(structure_name));
                copy("<", @cast_*(+(allocated2, length(structure_name))), 1);
                copy(member_name, @cast_*(+(allocated2, +(length(structure_name), 1))), length(member_name));

                variable allocated_contents2 = autobuffer_new(8388608);
                variable allocated_contents21 = &(allocated_contents2);
                variable allocated_contents22 = autobuffer_new(8388608);
                variable allocated_contents23 = &(allocated_contents22);
                variable contents_index = 0;
                variable contents_index2 = 0;

                variable size = get_size_linux_x86-643(member_type, nodes, define_values_map, structure_members_array);

                autobuffer_push_add_register8_whole_8(allocated_contents23, &(contents_index2), RSP, size);
                autobuffer_push_mov_register8_pointer_offset_register8(allocated_contents23, &(contents_index2), RSP, 0, RAX);
                autobuffer_push_sub_register8_whole_8(allocated_contents23, &(contents_index2), RSP, size);

                variable k = 0;
                while <(k, size) {
                    variable done_anything_structure = false;

                    if >(-(size, k), 7) {
                        autobuffer_push_mov_register8_pointer_offset_register8(allocated_contents23, &(contents_index2), RSP, k, RBX);
                        autobuffer_push_mov_register8_register8_pointer_offset(allocated_contents23, &(contents_index2), RBX, RAX, +(k, location));

                        k = +(k, 8);
                        done_anything_structure = true;
                    };
                    if &&(>(-(size, k), 3), !(done_anything_structure)) {
                        autobuffer_push_mov_register8_pointer_offset_register4(allocated_contents23, &(contents_index2), RSP, k, EBX);
                        autobuffer_push_mov_register4_register8_pointer_offset(allocated_contents23, &(contents_index2), EBX, RAX, +(k, location));

                        k = +(k, 4);
                        done_anything_structure = true;
                    };
                    if &&(>(-(size, k), 1), !(done_anything_structure)) {
                        autobuffer_push_mov_register8_pointer_offset_register2(allocated_contents23, &(contents_index2), RSP, k, BX);
                        autobuffer_push_mov_register2_register8_pointer_offset(allocated_contents23, &(contents_index2), BX, RAX, +(k, location));

                        k = +(k, 2);
                        done_anything_structure = true;
                    };
                    if &&(>(-(size, k), 0), !(done_anything_structure)) {
                        autobuffer_push_mov_register8_pointer_offset_register1(allocated_contents23, &(contents_index2), RSP, k, BL);
                        autobuffer_push_mov_register1_register8_pointer_offset(allocated_contents23, &(contents_index2), BL, RAX, +(k, location));

                        k = +(k, 1);
                        done_anything_structure = true;
                    };
                };

                autobuffer_push_add_register8_whole_8(allocated_contents23, &(contents_index2), RSP, +(size, 8));

                hashmap_string_put(&(memory_function_instructions_map), allocated, AutoBuffer->buffer(allocated_contents23));
                hashmap_string_put(&(memory_function_instruction_sizes_map), allocated, contents_index2);
                hashmap_string_put(&(memory_function_instructions_map), allocated2, AutoBuffer->buffer(allocated_contents23));
                hashmap_string_put(&(memory_function_instruction_sizes_map), allocated2, contents_index2);

                // Getter for indivudal members
                variable allocated = brk_allocate(+(length(structure_name), +(length(member_name), 3)));
                copy(structure_name, allocated, length(structure_name));
                copy("->", @cast_*(+(allocated, length(structure_name))), 2);
                copy(member_name, @cast_*(+(allocated, +(length(structure_name), 2))), length(member_name));

                variable allocated2 = brk_allocate(+(length(structure_name), +(length(member_name), 2)));
                copy(structure_name, allocated2, length(structure_name));
                copy(">", @cast_*(+(allocated2, length(structure_name))), 1);
                copy(member_name, @cast_*(+(allocated2, +(length(structure_name), 1))), length(member_name));

                variable allocated_contents3 = autobuffer_new(8388608);
                variable allocated_contents31 = &(allocated_contents3);
                variable allocated_contents32 = autobuffer_new(8388608);
                variable allocated_contents33 = &(allocated_contents32);
                variable contents_index = 0;
                variable contents_index2 = 0;

                variable size = get_size_linux_x86-643(member_type, nodes, define_values_map, structure_members_array);
                variable location = get_size_multiple_linux_x86-643(member_types, j, nodes, define_values_map, structure_members_array);

                autobuffer_push_pop_register8(allocated_contents33, &(contents_index2), RAX);
                autobuffer_push_sub_register8_whole_8(allocated_contents33, &(contents_index2), RSP, size);

                variable k = 0;
                while <(k, size) {
                    variable done_anything_structure = false;

                    if >(-(size, k), 7) {
                        autobuffer_push_mov_register8_pointer_offset_register8(allocated_contents33, &(contents_index2), RAX, +(k, location), RBX);
                        autobuffer_push_mov_register8_register8_pointer_offset(allocated_contents33, &(contents_index2), RBX, RSP, k);

                        k = +(k, 8);
                        done_anything_structure = true;
                    };
                    if &&(>(-(size, k), 3), !(done_anything_structure)) {
                        autobuffer_push_mov_register8_pointer_offset_register4(allocated_contents33, &(contents_index2), RAX, +(k, location), EBX);
                        autobuffer_push_mov_register4_register8_pointer_offset(allocated_contents33, &(contents_index2), EBX, RSP, k);

                        k = +(k, 4);
                        done_anything_structure = true;
                    };
                    if &&(>(-(size, k), 1), !(done_anything_structure)) {
                        autobuffer_push_mov_register8_pointer_offset_register2(allocated_contents33, &(contents_index2), RAX, +(k, location), BX);
                        autobuffer_push_mov_register2_register8_pointer_offset(allocated_contents33, &(contents_index2), BX, RSP, k);

                        k = +(k, 2);
                        done_anything_structure = true;
                    };
                    if &&(>(-(size, k), 0), !(done_anything_structure)) {
                        autobuffer_push_mov_register8_pointer_offset_register1(allocated_contents33, &(contents_index2), RAX, +(k, location), BL);
                        autobuffer_push_mov_register1_register8_pointer_offset(allocated_contents33, &(contents_index2), BL, RSP, k);

                        k = +(k, 1);
                        done_anything_structure = true;
                    };
                };

                hashmap_string_put(&(memory_function_instructions_map), allocated, AutoBuffer->buffer(allocated_contents33));
                hashmap_string_put(&(memory_function_instruction_sizes_map), allocated, contents_index2);
                hashmap_string_put(&(memory_function_instructions_map), allocated2, AutoBuffer->buffer(allocated_contents33));
                hashmap_string_put(&(memory_function_instruction_sizes_map), allocated2, contents_index2);

                j = +(j, 1);
            };
        } else if =(id, NODE_DEFINE) {
            variable define_data = @cast_*NodeDefineData(pointer_data);
            variable define_name = NodeDefineData->name(define_data);
            variable define_type = NodeDefineData->type(define_data);

            hashmap_string_put(&(define_types_map), define_name, define_type);

            variable define_value: any_8;
            if string_length=(define_type, "*function", 9) {
                define_value = define_function_index;
            } else if string_length=(define_type, "structure", 9) {
                define_value = define_structure_index;
            } else {
                define_value = NodeNumberData->value(@cast_*NodeNumberData(nodes_get_pointer_data(nodes, +(i, 1))));
            };

            hashmap_string_put(&(define_values_map), define_name, define_value);
        };

        i = +(i, 1);
    };

    i = 0;
    while <(i, define_function_index) {
        variable total = 16;
        variable j = @cast_whole_8(autobuffer_array8_get(&(function_local_sizes_array), i));
        while !(=(nodes_get_id(nodes, j), NODE_ENDFUNCTION)) {
            variable id = nodes_get_id(nodes, j);
            variable pointer_data = nodes_get_pointer_data(nodes, j);
            
            if =(id, NODE_DECLARE) {
                variable declare_data = @cast_*NodeDeclareData(pointer_data);
                variable declare_name = NodeDeclareData->name(declare_data);
                variable declare_type = NodeDeclareData->type(declare_data);
                total = +(total, get_size_linux_x86-643(declare_type, nodes, define_values_map, structure_members_array));
            };

            j = +(j, 1);
        };

        autobuffer_array8_set(&(function_local_sizes_array), i, total);
        i = +(i, 1);
    };

    variable current_function: *;
    variable current_function_id = 999;

    variable variable_scopes_types_map = autobuffer_new(64);
    variable variable_scope_types_pointer = 0;
    variable variable_scopes_indexes_map = autobuffer_new(64);
    variable variable_scope_indexes_pointer = 0;

    variable variable_types_map = hashmap_new(2048);
    variable variable_names = autobuffer_new(2048);
    variable variable_sizes = autobuffer_new(2048);
    variable variable_index = 0;

    variable program_constant_index = 0;

    variable second_defined_function_index = 0;

    variable i = 0;
    while <(i, node_count) {
        variable id = nodes_get_id(nodes, i);
        variable pointer_data = nodes_get_pointer_data(nodes, i);

        //print_node_info(nodes, i);

        variable done_anything = false;

        if =(id, NODE_FUNCTION) {
            variable function_data = @cast_*NodeFunctionData(pointer_data);
            variable next_id = nodes_get_id(nodes, +(i, 1));

            if !(=(next_id, NODE_ENDFUNCTION)) {
                variable function_name = NodeFunctionData->name(function_data);

                variable instructions_index_cached = instructions_index;
                autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RBP);
                autobuffer_push_mov_register8_register8(&(instructions_buffer), &(instructions_index), RSP, RBP);

                if !(=(function_name, 0)) {
                    hashmap_string_put(&(function_locations_map), function_name, instructions_index_cached);

                    variable locals_size = @cast_whole_8(hashmap_string_get(&(function_local_sizes_map), function_name));

                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, +(locals_size, 16));

                    current_function = function_name;
                } else {
                    variable locals_size = @cast_whole_8(autobuffer_array8_get(&(function_local_sizes_array), second_defined_function_index));

                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, +(locals_size, 16));
                    current_function_id = second_defined_function_index;
                    second_defined_function_index = +(second_defined_function_index, 1);
                };

                autobuffer_reset(&(HashMap->buffer(&(variable_types_map))));
                autobuffer_reset(&(variable_scopes_indexes_map));
                variable_index = 0;
            };

            done_anything = true;
        } else if =(id, NODE_NUMBER) {
            variable whole_8_data = @cast_*NodeNumberData(pointer_data);
            variable value_whole_8 = NodeNumberData->value(whole_8_data);

            variable size = NodeNumberData->size(whole_8_data);

            if =(size, 8) {
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RAX, value_whole_8);
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 8);
                autobuffer_push_mov_register8_register8_pointer_offset(&(instructions_buffer), &(instructions_index), RAX, RSP, 0);
            } else if =(size, 4) {
                autobuffer_push_mov_whole_4_register4(&(instructions_buffer), &(instructions_index), EAX, whole_8_to_whole_4(value_whole_8));
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EAX, RSP, 0);
            } else if =(size, 2) {
                autobuffer_push_mov_whole_2_register2(&(instructions_buffer), &(instructions_index), AX, whole_8_to_whole_2(value_whole_8));
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AX, RSP, 0);
            } else if =(size, 1) {
                autobuffer_push_mov_whole_1_register1(&(instructions_buffer), &(instructions_index), AL, @cast_whole_1(whole_8_to_whole_1(value_whole_8)));
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, 0);
            };

            done_anything = true;
        } else if =(id, NODE_BOOLEAN) {
            variable boolean_data = @cast_*NodeBooleanData(pointer_data);
            variable value_boolean = NodeBooleanData->value(boolean_data);

            autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);

            if @cast_boolean(value_boolean) {
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RAX, 1);
                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, 0);
            } else {
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RAX, 0);
                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, 0);
            };

            done_anything = true;
        } else if =(id, NODE_INVOKE) {
            variable invoke_data = @cast_*NodeInvokeData(pointer_data);
            variable function_name = NodeInvokeData->name(invoke_data);
            variable next_id = nodes_get_id(nodes, +(i, 1));

            if =(next_id, NODE_POINTER) {
                variable function_name_new = brk_allocate(+(length(function_name), 2));
                copy("*", function_name_new, 1);
                copy(function_name, @cast_*(+(function_name_new, 1)), length(function_name));
                function_name = function_name_new;
            };

            variable done_anything_invoke = false;

            variable memory_function = hashmap_string_get(&(memory_function_instructions_map), function_name);
            if !(=(memory_function, 0)) {
                variable contents = @cast_*(memory_function);
                variable contents_size = @cast_whole_8(hashmap_string_get(&(memory_function_instruction_sizes_map), function_name));
                autobuffer_push_pointer(&(instructions_buffer), &(instructions_index), contents, contents_size);
                done_anything_invoke = true;
            } else if string_length=(function_name, "@cast_", 6) {
                done_anything_invoke = true;
            } else if string_length=(function_name, "=_", 2) {
                variable size = get_size_linux_x86-642(+(function_name, 2), nodes);

                if =(size, 8) {
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBX);
                    autobuffer_push_cmp_register8_register8(&(instructions_buffer), &(instructions_index), RAX, RBX);
                } else if =(size, 4) {
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EAX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EBX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_cmp_register4_register4(&(instructions_buffer), &(instructions_index), EAX, EBX);
                } else if =(size, 2) {
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, AX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, BX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_cmp_register2_register2(&(instructions_buffer), &(instructions_index), AX, BX);
                } else if =(size, 1) {
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_cmp_register1_register1(&(instructions_buffer), &(instructions_index), AL, BL);
                };

                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RCX, 0);
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RBX, 1);
                autobuffer_push_cmove_register8_register8(&(instructions_buffer), &(instructions_index), RCX, RBX);
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), CL, RSP, 0);

                done_anything_invoke = true;
            } else if string_length=(function_name, ">_", 2) {
                variable size = get_size_linux_x86-642(+(function_name, 2), nodes);
                variable signed = =(is_signed(+(function_name, 2), nodes), 1);

                if =(size, 8) {
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBX);
                    autobuffer_push_cmp_register8_register8(&(instructions_buffer), &(instructions_index), RAX, RBX);
                } else if =(size, 4) {
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EAX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EBX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_cmp_register4_register4(&(instructions_buffer), &(instructions_index), EAX, EBX);
                } else if =(size, 2) {
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, AX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, BX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_cmp_register2_register2(&(instructions_buffer), &(instructions_index), AX, BX);
                } else if =(size, 1) {
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_cmp_register1_register1(&(instructions_buffer), &(instructions_index), AL, BL);
                };

                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RCX, 0);
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RBX, 1);
                if signed {
                    autobuffer_push_cmovl_register8_register8(&(instructions_buffer), &(instructions_index), RCX, RBX);
                } else {
                    autobuffer_push_cmovb_register8_register8(&(instructions_buffer), &(instructions_index), RCX, RBX);
                };
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), CL, RSP, 0);

                done_anything_invoke = true;
            } else if string_length=(function_name, "<_", 2) {
                variable size = get_size_linux_x86-642(+(function_name, 2), nodes);
                variable signed = =(is_signed(+(function_name, 2), nodes), 1);

                if =(size, 8) {
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBX);
                    autobuffer_push_cmp_register8_register8(&(instructions_buffer), &(instructions_index), RAX, RBX);
                } else if =(size, 4) {
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EAX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EBX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_cmp_register4_register4(&(instructions_buffer), &(instructions_index), EAX, EBX);
                } else if =(size, 2) {
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, AX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, BX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_cmp_register2_register2(&(instructions_buffer), &(instructions_index), AX, BX);
                } else if =(size, 1) {
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_cmp_register1_register1(&(instructions_buffer), &(instructions_index), AL, BL);
                };

                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RCX, 0);
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RBX, 1);
                if signed {
                    autobuffer_push_cmovg_register8_register8(&(instructions_buffer), &(instructions_index), RCX, RBX);
                } else {
                    autobuffer_push_cmova_register8_register8(&(instructions_buffer), &(instructions_index), RCX, RBX);
                };
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), CL, RSP, 0);

                done_anything_invoke = true;
            } else if string=(function_name, "get_rsp") {
                autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RSP);
                done_anything_invoke = true;
            } else if string=(function_name, "!") {
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RAX, 0);
                autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                //TODO compare directly with whole_8
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RBX, 0);
                autobuffer_push_cmp_register8_register8(&(instructions_buffer), &(instructions_index), RAX, RBX);
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RCX, 0);
                autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RBX, 1);
                autobuffer_push_cmove_register8_register8(&(instructions_buffer), &(instructions_index), RCX, RBX);
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), CL, RSP, 0);

                done_anything_invoke = true;
            } else if string_length=(function_name, "+_", 2) {
                variable size = get_size_linux_x86-642(+(function_name, 2), nodes);

                if =(size, 8) {
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBX);
                    autobuffer_push_add_register8_register8(&(instructions_buffer), &(instructions_index), RAX, RBX);
                    autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                } else if =(size, 4) {
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EAX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EBX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_add_register4_register4(&(instructions_buffer), &(instructions_index), EAX, EBX);
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EAX, RSP, 0);
                } else if =(size, 2) {
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, AX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, BX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_add_register2_register2(&(instructions_buffer), &(instructions_index), AX, BX);
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AX, RSP, 0);
                } else if =(size, 1) {
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_add_register1_register1(&(instructions_buffer), &(instructions_index), AL, BL);
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, 0);
                };
                done_anything_invoke = true;
            } else if string_length=(function_name, "-_", 2) {
                variable size = get_size_linux_x86-642(+(function_name, 2), nodes);

                if =(size, 8) {
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBX);
                    autobuffer_push_sub_register8_register8(&(instructions_buffer), &(instructions_index), RBX, RAX);
                    autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RBX);
                } else if =(size, 4) {
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EAX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EBX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_sub_register4_register4(&(instructions_buffer), &(instructions_index), EBX, EAX);
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EBX, RSP, 0);
                } else if =(size, 2) {
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, AX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, BX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_sub_register2_register2(&(instructions_buffer), &(instructions_index), BX, AX);
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), BX, RSP, 0);
                } else if =(size, 1) {
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_sub_register1_register1(&(instructions_buffer), &(instructions_index), BL, AL);
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), BL, RSP, 0);
                };
                done_anything_invoke = true;
            } else if string_length=(function_name, "*_", 2) {
                variable size = get_size_linux_x86-642(+(function_name, 2), nodes);
                variable signed = =(is_signed(+(function_name, 2), nodes), 1);

                if =(size, 8) {
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBX);
                    if signed {
                        autobuffer_push_imul_register8(&(instructions_buffer), &(instructions_index), RBX);
                    } else {
                        autobuffer_push_mul_register8(&(instructions_buffer), &(instructions_index), RBX);
                    };
                    autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                } else if =(size, 4) {
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EAX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EBX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    if signed {
                        autobuffer_push_imul_register4(&(instructions_buffer), &(instructions_index), EBX);
                    } else {
                        autobuffer_push_mul_register4(&(instructions_buffer), &(instructions_index), EBX);
                    };
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EAX, RSP, 0);
                } else if =(size, 2) {
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, AX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, BX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    if signed {
                        autobuffer_push_imul_register2(&(instructions_buffer), &(instructions_index), BX);
                    } else {
                        autobuffer_push_mul_register2(&(instructions_buffer), &(instructions_index), BX);
                    };
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AX, RSP, 0);
                } else if =(size, 1) {
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    if signed {
                        autobuffer_push_imul_register1(&(instructions_buffer), &(instructions_index), BL);
                    } else {
                        autobuffer_push_mul_register1(&(instructions_buffer), &(instructions_index), BL);
                    };
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, 0);
                };
                done_anything_invoke = true;
            } else if string_length=(function_name, "/_", 2) {
                variable size = get_size_linux_x86-642(+(function_name, 2), nodes);
                variable signed = =(is_signed(+(function_name, 2), nodes), 1);

                if =(size, 8) {
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBX);
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                    if signed {
                        autobuffer_push_cqo(&(instructions_buffer), &(instructions_index));
                        autobuffer_push_idiv_register8(&(instructions_buffer), &(instructions_index), RBX);
                    } else {
                        autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RDX, 0);
                        autobuffer_push_div_register8(&(instructions_buffer), &(instructions_index), RBX);
                    };
                    autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                } else if =(size, 4) {
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EBX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EAX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    if signed {
                        autobuffer_push_cdq(&(instructions_buffer), &(instructions_index));
                        autobuffer_push_idiv_register4(&(instructions_buffer), &(instructions_index), EBX);
                    } else {
                        autobuffer_push_mov_whole_4_register4(&(instructions_buffer), &(instructions_index), EDX, 0_whole_4);
                        autobuffer_push_div_register4(&(instructions_buffer), &(instructions_index), EBX);
                    };
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EAX, RSP, 0);
                } else if =(size, 2) {
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, BX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, AX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    if signed {
                        autobuffer_push_cwd(&(instructions_buffer), &(instructions_index));
                        autobuffer_push_idiv_register2(&(instructions_buffer), &(instructions_index), BX);
                    } else {
                        autobuffer_push_mov_whole_2_register2(&(instructions_buffer), &(instructions_index), DX, 0_whole_2);
                        autobuffer_push_div_register2(&(instructions_buffer), &(instructions_index), BX);
                    };
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AX, RSP, 0);
                } else if =(size, 1) {
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RAX, 0);
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    if signed {
                        autobuffer_push_cbw(&(instructions_buffer), &(instructions_index));
                        autobuffer_push_idiv_register1(&(instructions_buffer), &(instructions_index), BL);
                    } else {
                        autobuffer_push_mov_whole_1_register1(&(instructions_buffer), &(instructions_index), DL, 0_whole_1);
                        autobuffer_push_div_register1(&(instructions_buffer), &(instructions_index), BL);
                    };
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, 0);
                };
                done_anything_invoke = true;
            } else if string_length=(function_name, "%_", 2) {
                variable size = get_size_linux_x86-642(+(function_name, 2), nodes);
                variable signed = =(is_signed(+(function_name, 2), nodes), 1);

                if =(size, 8) {
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBX);
                    autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                    if signed {
                        autobuffer_push_cqo(&(instructions_buffer), &(instructions_index));
                        autobuffer_push_idiv_register8(&(instructions_buffer), &(instructions_index), RBX);
                    } else {
                        autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RDX, 0);
                        autobuffer_push_div_register8(&(instructions_buffer), &(instructions_index), RBX);
                    };
                    autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RDX);
                } else if =(size, 4) {
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EBX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, 0, EAX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    if signed {
                        autobuffer_push_cdq(&(instructions_buffer), &(instructions_index));
                        autobuffer_push_idiv_register4(&(instructions_buffer), &(instructions_index), EBX);
                    } else {
                        autobuffer_push_mov_whole_4_register4(&(instructions_buffer), &(instructions_index), EDX, 0_whole_4);
                        autobuffer_push_div_register4(&(instructions_buffer), &(instructions_index), EBX);
                    };
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 4);
                    autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EDX, RSP, 0);
                } else if =(size, 2) {
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, BX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, 0, AX);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    if signed {
                        autobuffer_push_cwd(&(instructions_buffer), &(instructions_index));
                        autobuffer_push_idiv_register2(&(instructions_buffer), &(instructions_index), BX);
                    } else {
                        autobuffer_push_mov_whole_2_register2(&(instructions_buffer), &(instructions_index), DX, 0_whole_2);
                        autobuffer_push_div_register2(&(instructions_buffer), &(instructions_index), BX);
                    };
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 2);
                    autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), DX, RSP, 0);
                } else if =(size, 1) {
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RAX, 0);
                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                    autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    if signed {
                        autobuffer_push_cbw(&(instructions_buffer), &(instructions_index));
                        autobuffer_push_idiv_register1(&(instructions_buffer), &(instructions_index), BL);
                    } else {
                        autobuffer_push_mov_whole_1_register1(&(instructions_buffer), &(instructions_index), DL, 0_whole_1);
                        autobuffer_push_div_register1(&(instructions_buffer), &(instructions_index), BL);
                    };
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                    autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AH, RSP, 0);
                };
                done_anything_invoke = true;
            } else if string=(function_name, "|") {
                autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_or_register1_register1(&(instructions_buffer), &(instructions_index), AL, BL);
                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, 0);
                done_anything_invoke = true;
            } else if string=(function_name, "&&") {
                autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
                autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, BL);
                autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                autobuffer_push_and_register1_register1(&(instructions_buffer), &(instructions_index), AL, BL);
                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, 0);
                done_anything_invoke = true;
            } else if string=(function_name, "@syscall0") {
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                autobuffer_push_syscall(&(instructions_buffer), &(instructions_index));
                autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                done_anything_invoke = true;
            } else if string=(function_name, "@syscall1") {
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RDI);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                autobuffer_push_syscall(&(instructions_buffer), &(instructions_index));
                autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                done_anything_invoke = true;
            } else if string=(function_name, "@syscall2") {
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RSI);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RDI);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                autobuffer_push_syscall(&(instructions_buffer), &(instructions_index));
                autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                done_anything_invoke = true;
            } else if string=(function_name, "@syscall3") {
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RDX);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RSI);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RDI);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                autobuffer_push_syscall(&(instructions_buffer), &(instructions_index));
                autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                done_anything_invoke = true;
            } else if string=(function_name, "@syscall5") {
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), R8);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), R10);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RDX);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RSI);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RDI);
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                autobuffer_push_syscall(&(instructions_buffer), &(instructions_index));
                autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                done_anything_invoke = true;
            } else {
                variable push_function_instruction = autobuffer_push_push_instruction_pointer(&(instructions_buffer), &(instructions_index));
                autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
                autobuffer_push_call_far_register8(&(instructions_buffer), &(instructions_index), RAX);

                autobuffer_array8_set(&(push_functions), push_function_index, push_function_instruction);
                autobuffer_array8_set(&(push_function_targets), push_function_index, function_name);

                push_function_index = +(push_function_index, 1);
            };
            done_anything = true;
        } else if =(id, NODE_INVOKE_POINTER) {
            autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RAX);
            autobuffer_push_call_far_register8(&(instructions_buffer), &(instructions_index), RAX);
            done_anything = true;
        } else if =(id, NODE_STRING) {
            variable string_data = @cast_*NodeStringData(pointer_data);
            variable string_value = NodeStringData->value(string_data);
            variable string_id = program_constant_index;
            program_constant_index = +(program_constant_index, 1);

            variable id_string = any_24();
            whole_8_to_string(string_id, &(id_string));

            variable string_data_index = autobuffer_push_data_string(&(data_buffer), &(data_buffer_index), string_value);

            autobuffer_push_push_data(&(instructions_buffer), &(instructions_index), &(data_indexes_to_adjust), &(data_indexes_to_adjust_index), string_data_index);

            done_anything = true;
        } else if =(id, NODE_DECLARE) {
            variable declare_data = @cast_*NodeDeclareData(pointer_data);
            variable variable_name = NodeDeclareData->name(declare_data);
            variable variable_type = NodeDeclareData->type(declare_data);

            hashmap_string_put(&(variable_types_map), variable_name, variable_type);
            autobuffer_array8_set(&(variable_names), variable_index, variable_name);
            autobuffer_array8_set(&(variable_sizes), variable_index, get_size_linux_x86-643(variable_type, nodes, define_values_map, structure_members_array));
            variable_index = +(variable_index, 1);

            hashmap_string_put(@cast_*HashMap(autobuffer_array8_get(&(variable_scopes_types_map), -(variable_scope_types_pointer, 1))), variable_name, variable_type);

            done_anything = true;
        } else if =(id, NODE_ASSIGN) {
            variable assign_data = @cast_*NodeAssignData(pointer_data);
            variable variable_name = NodeAssignData->name(assign_data);

            variable scope_index = -(variable_scope_types_pointer, 1);
            variable variable_type = @cast_*(0);
            while &&(=(variable_type, 0), <(scope_index, variable_scope_types_pointer)) {
                variable_type = @cast_*(hashmap_string_get(@cast_*HashMap(autobuffer_array8_get(&(variable_scopes_types_map), scope_index)), variable_name));
                scope_index = -(scope_index, 1);
            };
            scope_index = +(scope_index, 1);
            
            variable scope_variable_index = @cast_whole_8(autobuffer_array8_get(&(variable_scopes_indexes_map), scope_index));

            if !(=(variable_type, 0)) {
                variable size = get_size_linux_x86-643(variable_type, nodes, define_values_map, structure_members_array);

                variable location = 0;
                variable j = 0;
                while true {
                    if !(<(j, variable_index)) {
                        break;
                    } else if !(|(!(string=(variable_name, @cast_*(autobuffer_array8_get(&(variable_names), j)))), <(j, scope_variable_index))) {
                        break;
                    } else {
                        location = +(location, autobuffer_array8_get(&(variable_sizes), j));
                        j = +(j, 1);
                    };
                };

                variable j = 0;
                while <(j, size) {
                    variable done_anything_assign = false;

                    if >(-(size, j), 7) {
                        autobuffer_push_mov_register8_pointer_offset_register8(&(instructions_buffer), &(instructions_index), RSP, j, RAX);
                        autobuffer_push_mov_register8_register8_pointer_offset(&(instructions_buffer), &(instructions_index), RAX, RBP, -(0, -(+(size, location), j)));

                        j = +(j, 8);
                        done_anything_assign = true;
                    };
                    if &&(>(-(size, j), 3), !(done_anything_assign)) {
                        autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, j, EAX);
                        autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EAX, RBP, -(0, -(+(size, location), j)));

                        j = +(j, 4);
                        done_anything_assign = true;
                    };
                    if &&(>(-(size, j), 1), !(done_anything_assign)) {
                        autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, j, AX);
                        autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AX, RBP, -(0, -(+(size, location), j)));

                        j = +(j, 2);
                        done_anything_assign = true;
                    };
                    if &&(>(-(size, j), 0), !(done_anything_assign)) {
                        autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, j, AL);
                        autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RBP, -(0, -(+(size, location), j)));

                        j = +(j, 1);
                        done_anything_assign = true;
                    };
                };
                
                autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, size);
            } else {
                variable global_name = brk_allocate(+(length(variable_name), 2));
                copy("_", global_name, 1);
                copy(variable_name, @cast_*(+(global_name, 1)), length(variable_name));

                variable_type = @cast_*(hashmap_string_get(&(global_types_map), variable_name));
                variable size = get_size_linux_x86-642(variable_type, nodes);

                variable global_location = @cast_BssIndex(hashmap_string_get(&(global_locations_map), variable_name));

                variable j = 0;
                while <(j, size) {
                    variable done_anything_assign = false;

                    if >(-(size, j), 7) {
                        autobuffer_push_mov_register8_pointer_offset_register8(&(instructions_buffer), &(instructions_index), RSP, j, RAX);
                        autobuffer_push_mov_register8_bss_pointer_offset(&(instructions_buffer), &(instructions_index), &(bss_indexes_to_adjust_relative), &(bss_indexes_to_adjust_relative_index), RAX, global_location, j);

                        j = +(j, 8);
                        done_anything_assign = true;
                    };
                    if &&(>(-(size, j), 3), !(done_anything_assign)) {
                        //autobuffer_push_string(&(buffer), &(buffer_index), "mov eax, [rsp+");
                        //autobuffer_push_whole_8(&(buffer), &(buffer_index), j);
                        //autobuffer_push_string_with_newline(&(buffer), &(buffer_index), "]");

                        //autobuffer_push_string(&(buffer), &(buffer_index), "mov [");
                        //autobuffer_push_string(&(buffer), &(buffer_index), global_name);
                        //autobuffer_push_string(&(buffer), &(buffer_index), "+");
                        //autobuffer_push_whole_8(&(buffer), &(buffer_index), j);
                        //autobuffer_push_string_with_newline(&(buffer), &(buffer_index), "], eax");

                        j = +(j, 4);
                        done_anything_assign = true;
                    };
                    if &&(>(-(size, j), 1), !(done_anything_assign)) {
                        //autobuffer_push_string(&(buffer), &(buffer_index), "mov ax, [rsp+");
                        //autobuffer_push_whole_8(&(buffer), &(buffer_index), j);
                        //autobuffer_push_string_with_newline(&(buffer), &(buffer_index), "]");

                        //autobuffer_push_string(&(buffer), &(buffer_index), "mov [");
                        //autobuffer_push_string(&(buffer), &(buffer_index), global_name);
                        //autobuffer_push_string(&(buffer), &(buffer_index), "+");
                        //autobuffer_push_whole_8(&(buffer), &(buffer_index), j);
                        //autobuffer_push_string_with_newline(&(buffer), &(buffer_index), "], ax");

                        j = +(j, 2);
                        done_anything_assign = true;
                    };
                    if &&(>(-(size, j), 0), !(done_anything_assign)) {
                        //autobuffer_push_string(&(buffer), &(buffer_index), "mov al, [rsp+");
                        //autobuffer_push_whole_8(&(buffer), &(buffer_index), j);
                        //autobuffer_push_string_with_newline(&(buffer), &(buffer_index), "]");

                        //autobuffer_push_string(&(buffer), &(buffer_index), "mov [");
                        //autobuffer_push_string(&(buffer), &(buffer_index), global_name);
                        //autobuffer_push_string(&(buffer), &(buffer_index), "+");
                        //autobuffer_push_whole_8(&(buffer), &(buffer_index), j);
                        //autobuffer_push_string_with_newline(&(buffer), &(buffer_index), "], al");

                        j = +(j, 1);
                        done_anything_assign = true;
                    };
                };

                autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, size);
            };

            done_anything = true;
        } else if =(id, NODE_RETRIEVE) {
            variable next_id = nodes_get_id(nodes, +(i, 1));

            variable variable_name = NodeRetrieveData->name(@cast_*NodeRetrieveData(nodes_get_pointer_data(nodes, i)));

            variable scope_index = -(variable_scope_types_pointer, 1);
            variable variable_type = @cast_*(0);
            while &&(=(variable_type, 0), <(scope_index, variable_scope_types_pointer)) {
                variable_type = @cast_*(hashmap_string_get(@cast_*HashMap(autobuffer_array8_get(&(variable_scopes_types_map), scope_index)), variable_name));
                scope_index = -(scope_index, 1);
            };
            scope_index = +(scope_index, 1);

            variable scope_variable_index = @cast_whole_8(autobuffer_array8_get(&(variable_scopes_indexes_map), scope_index));

            if !(=(variable_type, 0)) {
                variable size = get_size_linux_x86-643(variable_type, nodes, define_values_map, structure_members_array);

                variable location = 0;
                variable j = 0;
                while true {
                    // changed from 'variable_index' to 'scope_variable_index', appears to fix a bug
                    if !(<(j, variable_index)) {
                        break;
                    } else if !(|(!(string=(variable_name, @cast_*(autobuffer_array8_get(&(variable_names), j)))), <(j, scope_variable_index))) {
                        break;
                    } else {
                        location = +(location, autobuffer_array8_get(&(variable_sizes), j));
                        j = +(j, 1);
                    };
                };

                if is_pointer(nodes, +(i, 1)) {
                    variable thing = instructions_index;
                    autobuffer_push_lea_register8_offset_register8(&(instructions_buffer), &(instructions_index), RBP, -(0, +(size, location)), RAX);
                    autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                } else {
                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, size);

                    variable j = 0;
                    while <(j, size) {
                        variable done_anything_assign = false;

                        if >(-(size, j), 7) {
                            autobuffer_push_mov_register8_pointer_offset_register8(&(instructions_buffer), &(instructions_index), RBP, -(0, -(+(size, location), j)), RAX);
                            autobuffer_push_mov_register8_register8_pointer_offset(&(instructions_buffer), &(instructions_index), RAX, RSP, j);
                            j = +(j, 8);
                            done_anything_assign = true;
                        };
                        if &&(>(-(size, j), 3), !(done_anything_assign)) {
                            autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RBP, -(0, -(+(size, location), j)), EAX);
                            autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EAX, RSP, j);
                            j = +(j, 4);
                            done_anything_assign = true;
                        };
                        if &&(>(-(size, j), 1), !(done_anything_assign)) {
                            autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RBP, -(0, -(+(size, location), j)), AX);
                            autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AX, RSP, j);

                            j = +(j, 2);
                            done_anything_assign = true;
                        };
                        if &&(>(-(size, j), 0), !(done_anything_assign)) {
                            autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RBP, -(0, -(+(size, location), j)), AL);
                            autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, j);

                            j = +(j, 1);
                            done_anything_assign = true;
                        };
                    };
                };

            } else {
                variable function_argument_names2 = @cast_*(if =(current_function, 0) { autobuffer_array8_get(&(function_argument_names_array), current_function_id) } else { hashmap_string_get(&(function_argument_names_map), current_function) });
                variable function_arguments2 = @cast_*(if =(current_function, 0) { autobuffer_array8_get(&(function_arguments_array), current_function_id) } else { hashmap_string_get(&(function_arguments_map), current_function) });

                variable_type = stringarray_get(function_argument_names2, function_arguments2, variable_name, array8_length(function_arguments2));

                if !(=(variable_type, 0)) {
                    variable size = get_size_linux_x86-643(variable_type, nodes, define_values_map, structure_members_array);
                    variable location = get_size_multiple_reversed_linux_x86-643(function_arguments2, stringarray_get_index(function_argument_names2, variable_name, array8_length(function_argument_names2)), nodes, define_values_map, structure_members_array);

                    if =(next_id, NODE_POINTER) {
                        autobuffer_push_lea_register8_offset_register8(&(instructions_buffer), &(instructions_index), RBP, +(16, location), RAX);
                        autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RAX);
                    } else {
                        autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, size);

                        variable j = 0;
                        while <(j, size) {
                            variable done_anything_assign = false;
                            if >(-(size, j), 7) {
                                autobuffer_push_mov_register8_pointer_offset_register8(&(instructions_buffer), &(instructions_index), RBP, +(+(16, location), j), RAX);
                                autobuffer_push_mov_register8_register8_pointer_offset(&(instructions_buffer), &(instructions_index), RAX, RSP, j);
                                j = +(j, 8);
                                done_anything_assign = true;
                            };
                            if &&(>(-(size, j), 3), !(done_anything_assign)) {
                                autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RBP, +(+(16, location), j), EAX);
                                autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EAX, RSP, j);
                                j = +(j, 4);
                                done_anything_assign = true;
                            };
                            if &&(>(-(size, j), 1), !(done_anything_assign)) {
                                autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RBP, +(+(16, location), j), AX);
                                autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AX, RSP, j);
                                j = +(j, 2);
                                done_anything_assign = true;
                            };
                            if &&(>(-(size, j), 0), !(done_anything_assign)) {
                                autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RBP, +(+(16, location), j), AL);
                                autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, j);
                                j = +(j, 1);
                                done_anything_assign = true;
                            };
                        };
                    };
                } else {
                    variable_type = @cast_*(hashmap_string_get(&(global_types_map), variable_name));

                    if !(=(variable_type, 0)) {
                        variable global_name = brk_allocate(+(length(variable_name), 2));
                        copy("_", global_name, 1);
                        copy(variable_name, @cast_*(+(global_name, 1)), length(variable_name));

                        variable size = get_size_linux_x86-642(variable_type, nodes);

                        variable global_index2 = @cast_BssIndex(hashmap_string_get(&(global_locations_map), variable_name));

                        if =(next_id, NODE_POINTER) {
                            autobuffer_push_push_bss(&(instructions_buffer), &(instructions_index), &(bss_indexes_to_adjust), &(bss_indexes_to_adjust_index), global_index2);
                        } else {
                            autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, size);

                            variable j = 0;
                            while <(j, size) {
                                variable done_anything_assign = false;

                                if >(-(size, j), 7) {
                                    autobuffer_push_mov_bss_offset_pointer_register8(&(instructions_buffer), &(instructions_index), &(bss_indexes_to_adjust_relative), &(bss_indexes_to_adjust_relative_index),  global_index2, j, RAX);
                                    autobuffer_push_mov_register8_register8_pointer_offset(&(instructions_buffer), &(instructions_index), RAX, RSP, j);
                                    j = +(j, 8);
                                    done_anything_assign = true;
                                };
                                if &&(>(-(size, j), 3), !(done_anything_assign)) {
                                    autobuffer_push_mov_bss_offset_pointer_register4(&(instructions_buffer), &(instructions_index), &(bss_indexes_to_adjust_relative), &(bss_indexes_to_adjust_relative_index),  global_index2, j, EAX);
                                    autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EAX, RSP, j);
                                    j = +(j, 4);
                                    done_anything_assign = true;
                                };
                                if &&(>(-(size, j), 1), !(done_anything_assign)) {
                                    autobuffer_push_mov_bss_offset_pointer_register2(&(instructions_buffer), &(instructions_index), &(bss_indexes_to_adjust_relative), &(bss_indexes_to_adjust_relative_index),  global_index2, j, AX);
                                    autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AX, RSP, j);
                                    j = +(j, 2);
                                    done_anything_assign = true;
                                };
                                if &&(>(-(size, j), 0), !(done_anything_assign)) {
                                    autobuffer_push_mov_bss_offset_pointer_register1(&(instructions_buffer), &(instructions_index), &(bss_indexes_to_adjust_relative), &(bss_indexes_to_adjust_relative_index),  global_index2, j, AL);
                                    autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, j);
                                    j = +(j, 1);
                                    done_anything_assign = true;
                                };
                            };
                        };
                    } else {
                        variable_type = @cast_*(hashmap_string_get(&(define_types_map), variable_name));

                        if !(=(variable_type, 0)) {
                            variable constant_name = brk_allocate(+(length(variable_name), 2));
                            copy("_", constant_name, 1);
                            copy(variable_name, @cast_*(+(constant_name, 1)), length(variable_name));

                            variable define_value = hashmap_string_get(&(define_values_map), variable_name);

                            if string_length=(variable_type, "*function", 9) {
                                variable push_function_instruction = autobuffer_push_push_instruction_pointer(&(instructions_buffer), &(instructions_index));
                                autobuffer_array8_set(&(push_functions2), push_function_index2, push_function_instruction);
                                autobuffer_array8_set(&(push_function_targets2), push_function_index2, define_value);

                                push_function_index2 = +(push_function_index2, 1);
                            } else if string_length=(variable_type, "structure", 9) {
                            } else {
                                variable size = get_size_linux_x86-643(variable_type, nodes, define_values_map, structure_members_array);
                                if =(size, 8) {
                                    autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RAX, @cast_whole_8(define_value));
                                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 8);
                                    autobuffer_push_mov_register8_register8_pointer_offset(&(instructions_buffer), &(instructions_index), RAX, RSP, 0);
                                } else if =(size, 1) {
                                    autobuffer_push_mov_whole_1_register1(&(instructions_buffer), &(instructions_index), AL, whole_8_to_whole_1(@cast_whole_8(define_value)));
                                    autobuffer_push_sub_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
                                    autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RSP, 0);
                                } else {
                                    println("no size");
                                };
                            };
                        } else {
                            if !(=(hashmap_string_get(&(function_arguments_map), variable_name), 0)) {
                                variable push_function_instruction = autobuffer_push_push_instruction_pointer(&(instructions_buffer), &(instructions_index));
                                autobuffer_array8_set(&(push_functions), push_function_index, push_function_instruction);
                                autobuffer_array8_set(&(push_function_targets), push_function_index, variable_name);

                                push_function_index = +(push_function_index, 1);
                            };
                        };
                    };

                };
                
            };

            done_anything = true;
        } else if =(id, NODE_RETURN) {
            variable arguments_size = get_size_multiple_linux_x86-643(if =(current_function, 0) { @cast_*(autobuffer_array8_get(&(function_arguments_array), current_function_id)) } else { @cast_*(hashmap_string_get(&(function_arguments_map), current_function)) }, 999, nodes, define_values_map, structure_members_array);
            variable returns_size = get_size_multiple_linux_x86-643(if =(current_function, 0) { @cast_*(autobuffer_array8_get(&(function_returns_array), current_function_id)) } else { @cast_*(hashmap_string_get(&(function_returns_map), current_function)) }, 999, nodes, define_values_map, structure_members_array);
            variable returns_size_rounded = returns_size;
            if !(=(%(returns_size_rounded, 8), 0)) {
                returns_size_rounded = +(returns_size_rounded, -(8, %(returns_size, 8)));
            };

            variable j = 8;
            variable k = +(returns_size, 8);

            variable thing = instructions_index;
            autobuffer_push_mov_register8_pointer_offset_register8(&(instructions_buffer), &(instructions_index), RBP, 8, RCX);
            autobuffer_push_mov_register8_pointer_offset_register8(&(instructions_buffer), &(instructions_index), RBP, 0, RDX);

            returns_size = +(returns_size, 8);

            while <(j, returns_size) {
                variable done_anything_assign = false;

                if >(-(returns_size, j), 7) {
                    k = -(k, 8);

                    autobuffer_push_mov_register8_pointer_offset_register8(&(instructions_buffer), &(instructions_index), RSP, -(-(returns_size, j), 8), RAX);
                    autobuffer_push_mov_register8_register8_pointer_offset(&(instructions_buffer), &(instructions_index), RAX, RBP, +(+(16, +(-(arguments_size, returns_size), k)), 0));

                    j = +(j, 8);
                };
                if &&(>(-(returns_size, j), 3), !(done_anything_assign)) {
                    k = -(k, 4);

                    autobuffer_push_mov_register8_pointer_offset_register4(&(instructions_buffer), &(instructions_index), RSP, -(-(returns_size, j), 4), EAX);
                    autobuffer_push_mov_register4_register8_pointer_offset(&(instructions_buffer), &(instructions_index), EAX, RBP, +(+(16, +(-(arguments_size, returns_size), k)), 0));

                    j = +(j, 4);
                };
                if &&(>(-(returns_size, j), 1), !(done_anything_assign)) {
                    k = -(k, 2);

                    autobuffer_push_mov_register8_pointer_offset_register2(&(instructions_buffer), &(instructions_index), RSP, -(-(returns_size, j), 2), AX);
                    autobuffer_push_mov_register2_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AX, RBP, +(+(16, +(-(arguments_size, returns_size), k)), 0));

                    j = +(j, 2);
                };
                if &&(>(-(returns_size, j), 0), !(done_anything_assign)) {
                    k = -(k, 1);

                    autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, -(-(returns_size, j), 1), AL);
                    autobuffer_push_mov_register1_register8_pointer_offset(&(instructions_buffer), &(instructions_index), AL, RBP, +(+(16, +(-(arguments_size, returns_size), k)), 0));

                    j = +(j, 1);
                };
            };

            autobuffer_push_mov_register8_register8(&(instructions_buffer), &(instructions_index), RBP, RSP);

            autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, +(+(16, +(-(arguments_size, returns_size), k)), 0));

            returns_size = -(returns_size, 8);

            autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RDX);
            autobuffer_push_pop_register8(&(instructions_buffer), &(instructions_index), RBP);
            autobuffer_push_push_register8(&(instructions_buffer), &(instructions_index), RCX);
            autobuffer_push_ret(&(instructions_buffer), &(instructions_index));
                
            done_anything = true;
        } else if =(id, NODE_POINTER) {
            done_anything = true;
        } else if =(id, NODE_JUMP_CONDITIONAL) {
            variable jump_conditional_data = @cast_*NodeJumpConditionalData(pointer_data);
            variable target = NodeJumpConditionalData->target_id(jump_conditional_data);
            variable conditional = NodeJumpConditionalData->desired_state(jump_conditional_data);

            autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RAX, 0);
            autobuffer_push_mov_register8_pointer_offset_register1(&(instructions_buffer), &(instructions_index), RSP, 0, AL);
            autobuffer_push_add_register8_whole_8(&(instructions_buffer), &(instructions_index), RSP, 1);
            autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RBX, 0);
            autobuffer_push_mov_whole_8_register8(&(instructions_buffer), &(instructions_index), RCX, 1);

            if @cast_boolean(conditional) {
                autobuffer_push_cmp_register8_register8(&(instructions_buffer), &(instructions_index), RAX, RCX);
                done_anything = true;
            } else {
                autobuffer_push_cmp_register8_register8(&(instructions_buffer), &(instructions_index), RAX, RBX);
            };

            variable jump_instruction = autobuffer_push_je_near(&(instructions_buffer), &(instructions_index));
            autobuffer_array8_set(&(jes), je_index, jump_instruction);
            autobuffer_array8_set(&(je_targets), je_index, target);

            je_index = +(je_index, 1);
            done_anything = true;
        } else if =(id, NODE_JUMP) {
            variable jump_data = @cast_*NodeJumpData(pointer_data);
            variable target = NodeJumpData->target_id(jump_data);

            variable jump_instruction = autobuffer_push_jmp_near(&(instructions_buffer), &(instructions_index));
            autobuffer_array8_set(&(jmps), jmp_index, jump_instruction);
            autobuffer_array8_set(&(jmp_targets), jmp_index, target);

            jmp_index = +(jmp_index, 1);
            done_anything = true;
        } else if =(id, NODE_TARGET) {
            variable target_data = @cast_*NodeTargetData(pointer_data);
            variable target = NodeTargetData->id(target_data);
            
            autobuffer_array8_set(&(targets), target, get_instruction(&(instructions_buffer), &(instructions_index)));
            done_anything = true;
        } else if =(id, NODE_SCOPE) {
            variable new_hashmap = hashmap_new(512);
            variable allocated = brk_allocate(24);
            HashMap<-(@cast_*HashMap(allocated), new_hashmap);
            autobuffer_stack8_push(&(variable_scopes_types_map), &(variable_scope_types_pointer), allocated);

            autobuffer_stack8_push(&(variable_scopes_indexes_map), &(variable_scope_indexes_pointer), variable_index);
        } else if =(id, NODE_ENDSCOPE) {
            variable _ = autobuffer_stack8_pop(&(variable_scopes_types_map), &(variable_scope_types_pointer));
            variable _ = autobuffer_stack8_pop(&(variable_scopes_indexes_map), &(variable_scope_indexes_pointer));
        } else if =(id, NODE_ENDFUNCTION) {
            current_function = @cast_*(0);
            done_anything = true;
        } else if =(id, NODE_STRUCTURE) {
            done_anything = true;
        } else if =(id, NODE_GLOBAL) {
            variable global_data = @cast_*NodeGlobalData(pointer_data);
            variable name2 = NodeGlobalData->name(global_data);
            variable type = NodeGlobalData->type(global_data);
            variable global_name = brk_allocate(+(length(name2), 2));
            copy("_", global_name, 1);
            copy(name2, @cast_*(+(global_name, 1)), length(name2));
            
            variable size = get_size_linux_x86-642(type, nodes);
            
            done_anything = true;
        } else if =(id, NODE_DEFINE) {
            variable define_data = @cast_*NodeDefineData(pointer_data);
            variable define_name = NodeDefineData->name(define_data);
            variable define_type = NodeDefineData->type(define_data);
            
            if string_length=(define_type, "*function", 9) {
                autobuffer_array8_set(&(function_locations_array), @cast_whole_8(hashmap_string_get(&(define_values_map), define_name)), instructions_index);
            };
            done_anything = true;
        } else if =(id, NODE_STARTIFBLOCK) {
            done_anything = true;
        } else if =(id, NODE_ENDIFBLOCK) {
            done_anything = true;
        } else if =(id, NODE_ENDSTATEMENT) {
            done_anything = true;
        } else if =(id, NODE_ENDDEFINE) {
            done_anything = true;
        } else {
            print("Unhandled ");
            print_whole_8(id);
            println("");
        };

        i = +(i, 1);
    };

    variable main_index = hashmap_string_get(&(function_locations_map), "main");
    if =(main_index, 0) {
        variable main_function_index = @cast_whole_8(hashmap_string_get(&(define_values_map), "main"));
        main_index = autobuffer_array8_get(&(function_locations_array), main_function_index);
    };
    set_call_value(&(instructions_buffer), main_call, @cast_InstructionIndex(main_index));

    variable start_address = 4194304;

    variable i = 0;
    while <(i, call_index) {
        variable call_instruction2 = @cast_InstructionIndex(autobuffer_array8_get(&(calls), i));
        variable call_name = @cast_*(autobuffer_array8_get(&(call_targets), i));

        variable function_index = @cast_InstructionIndex(hashmap_string_get(&(function_locations_map), call_name));

        set_call_value(&(instructions_buffer), call_instruction2, function_index);
        i = +(i, 1);
    };

    variable i = 0;
    while <(i, push_function_index) {
        variable push_function_instruction2 = @cast_InstructionIndex(autobuffer_array8_get(&(push_functions), i));
        variable push_function_name = @cast_*(autobuffer_array8_get(&(push_function_targets), i));

        variable function_index = @cast_InstructionIndex(hashmap_string_get(&(function_locations_map), push_function_name));

        variable value_new = +(function_index, 232);

        set_control_flow_value_absolute(&(instructions_buffer), +(push_function_instruction2, 1), +(start_address, value_new));
        i = +(i, 1);
    };

    variable i = 0;
    while <(i, push_function_index2) {
        variable push_function_instruction2 = @cast_InstructionIndex(autobuffer_array8_get(&(push_functions2), i));
        variable push_function_id = @cast_whole_8(autobuffer_array8_get(&(push_function_targets2), i));

        variable function_index = @cast_InstructionIndex(autobuffer_array8_get(&(function_locations_array), push_function_id));

        variable value_new = +(function_index, 232);

        set_control_flow_value_absolute(&(instructions_buffer), +(push_function_instruction2, 1), +(start_address, value_new));
        i = +(i, 1);
    };

    variable i = 0;
    while <(i, jmp_index) {
        variable jmp_instruction2 = @cast_InstructionIndex(autobuffer_array8_get(&(jmps), i));
        variable jmp_target = @cast_whole_8(autobuffer_array8_get(&(jmp_targets), i));
        variable target_location = autobuffer_array8_get(&(targets), jmp_target);
        set_jmp_value(&(instructions_buffer), jmp_instruction2, @cast_InstructionIndex(target_location));
        i = +(i, 1);
    };

    variable i = 0;
    while <(i, je_index) {
        variable jmp_instruction2 = @cast_InstructionIndex(autobuffer_array8_get(&(jes), i));
        variable jmp_target = @cast_whole_8(autobuffer_array8_get(&(je_targets), i));
        variable target_location = autobuffer_array8_get(&(targets), jmp_target);
        set_je_value(&(instructions_buffer), jmp_instruction2, @cast_InstructionIndex(target_location));
        i = +(i, 1);
    };

    variable asm_output = autobuffer_new(32);
    variable asm_output_length: whole_8 = 0;
    autobuffer_push_string(&(asm_output), &(asm_output_length), output_file);

    variable i = 0;
    while <(i, data_indexes_to_adjust_index) {
        variable index = @cast_whole_8(autobuffer_array8_get(&(data_indexes_to_adjust), i));
        variable value_new = +(@cast_whole_8(whole_4_to_whole_8(autobuffer_get_whole_4(&(instructions_buffer), index))), +(instructions_index, 232));
        autobuffer_set_any_4(&(instructions_buffer), whole_8_to_whole_4(+(value_new, +(start_address, 4096))), index);
        i = +(i, 1);
    };

    variable i = 0;
    while <(i, bss_indexes_to_adjust_index) {
        variable index = @cast_whole_8(autobuffer_array8_get(&(bss_indexes_to_adjust), i));
        variable value_new = +(@cast_whole_8(whole_4_to_whole_8(autobuffer_get_whole_4(&(instructions_buffer), index))), +(+(instructions_index, 232), data_buffer_index));
        autobuffer_set_any_4(&(instructions_buffer), whole_8_to_whole_4(+(value_new, +(start_address, 8192))), index);
        i = +(i, 1);
    };

    variable i = 0;
    while <(i, data_indexes_to_adjust_relative_index) {
        variable index = @cast_whole_8(autobuffer_array8_get(&(data_indexes_to_adjust_relative), i));
        variable value_new = +(@cast_whole_8(whole_4_to_whole_8(autobuffer_get_whole_4(&(instructions_buffer), index))), instructions_index);
        variable actual_value = @cast_whole_8(whole_4_to_whole_8(autobuffer_get_whole_4(&(instructions_buffer), index)));
        autobuffer_set_any_4(&(instructions_buffer), whole_8_to_whole_4(+(-(value_new, +(index, 4)), 4096)), index);
        i = +(i, 1);
    };

    variable i = 0;
    while <(i, bss_indexes_to_adjust_relative_index) {
        variable index = @cast_whole_8(autobuffer_array8_get(&(bss_indexes_to_adjust_relative), i));
        variable value_new = +(@cast_whole_8(whole_4_to_whole_8(autobuffer_get_whole_4(&(instructions_buffer), index))), +(instructions_index, data_buffer_index));
        variable actual_value = @cast_whole_8(whole_4_to_whole_8(autobuffer_get_whole_4(&(instructions_buffer), index)));
        autobuffer_set_any_4(&(instructions_buffer), whole_8_to_whole_4(+(-(value_new, +(index, 4)), 8192)), index);
        i = +(i, 1);
    };

    autobuffer_set(&(output), AutoBuffer->buffer(&(instructions_buffer)), 232, instructions_index);
    autobuffer_set(&(output), AutoBuffer->buffer(&(data_buffer)), +(232, instructions_index), data_buffer_index);

    variable program_header: ELF64ProgramHeader;
    ELF64ProgramHeader<-type(&(program_header), whole_8_to_whole_4(1));
    ELF64ProgramHeader<-location(&(program_header), 0);
    ELF64ProgramHeader<-virtual_address(&(program_header), start_address);
    ELF64ProgramHeader<-physical_address(&(program_header), start_address);
    ELF64ProgramHeader<-size_file(&(program_header), +(instructions_index, 232));
    ELF64ProgramHeader<-size_memory(&(program_header), +(instructions_index, 232));
    ELF64ProgramHeader<-flags(&(program_header), whole_8_to_whole_4(5));
    ELF64ProgramHeader<-alignment(&(program_header), 4096);

    variable program_header2: ELF64ProgramHeader;
    ELF64ProgramHeader<-type(&(program_header2), whole_8_to_whole_4(1));
    ELF64ProgramHeader<-location(&(program_header2), +(instructions_index, 232));
    ELF64ProgramHeader<-virtual_address(&(program_header2), +(232, +(instructions_index, +(start_address, 4096))));
    ELF64ProgramHeader<-physical_address(&(program_header2), +(232, +(instructions_index, +(start_address, 4096))));
    ELF64ProgramHeader<-size_file(&(program_header2), data_buffer_index);
    ELF64ProgramHeader<-size_memory(&(program_header2), data_buffer_index);
    ELF64ProgramHeader<-flags(&(program_header2), whole_8_to_whole_4(4));
    ELF64ProgramHeader<-alignment(&(program_header2), 4096);

    variable program_header3: ELF64ProgramHeader;
    ELF64ProgramHeader<-type(&(program_header3), whole_8_to_whole_4(1));
    ELF64ProgramHeader<-location(&(program_header3), +(instructions_index, +(data_buffer_index, 232)));
    ELF64ProgramHeader<-virtual_address(&(program_header3), +(232, +(instructions_index, +(+(start_address, 8192), data_buffer_index))));
    ELF64ProgramHeader<-physical_address(&(program_header3), +(232, +(instructions_index, +(+(start_address, 8192), data_buffer_index))));
    ELF64ProgramHeader<-size_file(&(program_header3), 0);
    ELF64ProgramHeader<-size_memory(&(program_header3), bss_index);
    ELF64ProgramHeader<-flags(&(program_header3), whole_8_to_whole_4(6));
    ELF64ProgramHeader<-alignment(&(program_header3), 4096);

    autobuffer_set(&(output), &(file_header), 0, 64);
    autobuffer_set(&(output), &(program_header), 64, 56);
    autobuffer_set(&(output), &(program_header2), 120, 56);
    autobuffer_set(&(output), &(program_header3), 176, 56);

    variable output_file = sys_open(AutoBuffer->buffer(&(asm_output)), +(+(O_WRONLY, O_CREAT), O_TRUNC), 452);
    sys_write(output_file, AutoBuffer->buffer(&(output)), AutoBuffer->size(&(output)));
    sys_close(output_file);
};

function get_size_linux_x86-643(type: *, nodes: *Nodes, define_values_map: HashMap, structure_members_array: AutoBuffer): whole_8 {
    variable cached_size = @cast_whole_8(hashmap_string_get(&(cached_sizes_map), type));
    if !(=(cached_size, 0)) {
        return cached_size;
    };

    if string=(type, "boolean") {
        return 1;
    };
    if string_length=(type, "*", 1) {
        return 8;
    };

    if string_length=(type, "any", 3) {
        variable number = to_number(@cast_*(+(type, 4)));
        hashmap_string_put(&(cached_sizes_map), type, number);

        return number;
    };

    if string_length=(type, "whole", 5) {
        variable number = to_number(@cast_*(+(type, 6)));
        hashmap_string_put(&(cached_sizes_map), type, number);

        return number;
    };

    if string_length=(type, "integer", 7) {
        variable number = to_number(@cast_*(+(type, 8)));
        hashmap_string_put(&(cached_sizes_map), type, number);

        return number;
    };

    variable defined_value = @cast_whole_8(hashmap_string_get2(&(define_values_map), type));
    if !(=(defined_value, 999)) {
        variable member_types = @cast_*(autobuffer_array8_get(&(structure_members_array), defined_value));

        variable size = get_size_multiple_linux_x86-643(member_types, 999, nodes, define_values_map, structure_members_array);
        hashmap_string_put(&(cached_sizes_map), type, size);
        return size;
    };

    if string_length=(type, "structure[", 10) {
        variable total = 0;

        variable buffer = autobuffer_new(16);
        variable buffer_index = 0;

        variable is_type = false;
        variable i = 10;
        while <(i, length(type)) {
            variable character = any_1->(@cast_*any_1(+(type, i)));

            if =(character, ASCII_COLON) {
                is_type = true;
            } else if =(character, ASCII_COMMA) {
                total = +(total, get_size_linux_x86-643(AutoBuffer->buffer(&(buffer)), nodes, define_values_map, structure_members_array));
                autobuffer_reset(&(buffer));
                buffer_index = 0;
                is_type = false;
            } else if =(character, ASCII_CLOSED_BRACKET) {
                total = +(total, get_size_linux_x86-643(AutoBuffer->buffer(&(buffer)), nodes, define_values_map, structure_members_array));
                break;
            } else if is_type {
                autobuffer_push_string_length(&(buffer), &(buffer_index), +(type, i), 1);
            };

            i = +(i, 1);
        };

        return total;
    };

    variable node_count = Nodes->index(nodes);
    variable i = 0;
    while <(i, node_count) {
        if =(nodes_get_id(nodes, i), NODE_STRUCTURE) {
            variable pointer = @cast_*NodeStructureData(nodes_get_pointer_data(nodes, i));
            variable name = NodeStructureData->name(pointer);
            variable member_types = NodeStructureData->item_types(pointer);
            if string=(type, name) {
                variable size = get_size_multiple_linux_x86-642(member_types, 999, nodes);
                hashmap_string_put(&(cached_sizes_map), type, size);
                return size;
            };
        };
        i = +(i, 1);
    };

    print("unknown type ");
    println(type);

    return 0;
};

function get_size_linux_x86-642(type: *, nodes: *Nodes): whole_8 {
    variable cached_size = @cast_whole_8(hashmap_string_get(&(cached_sizes_map), type));
    if !(=(cached_size, 0)) {
        return cached_size;
    };

    if string=(type, "boolean") {
        return 1;
    };
    if string_length=(type, "*", 1) {
        return 8;
    };

    if string_length=(type, "any", 3) {
        variable number = to_number(@cast_*(+(type, 4)));
        hashmap_string_put(&(cached_sizes_map), type, number);

        return number;
    };

    if string_length=(type, "whole", 5) {
        variable number = to_number(@cast_*(+(type, 6)));
        hashmap_string_put(&(cached_sizes_map), type, number);

        return number;
    };

    if string_length=(type, "integer", 7) {
        variable number = to_number(@cast_*(+(type, 8)));
        hashmap_string_put(&(cached_sizes_map), type, number);

        return number;
    };

    variable node_count = Nodes->index(nodes);
    variable i = 0;
    while <(i, node_count) {
        if =(nodes_get_id(nodes, i), NODE_STRUCTURE) {
            variable pointer = @cast_*NodeStructureData(nodes_get_pointer_data(nodes, i));
            variable name = NodeStructureData->name(pointer);
            variable member_types = NodeStructureData->item_types(pointer);
            if string=(type, name) {
                variable size = get_size_multiple_linux_x86-642(member_types, 999, nodes);
                hashmap_string_put(&(cached_sizes_map), type, size);
                return size;
            };
        };
        i = +(i, 1);
    };

    print("unknown type ");
    println(type);

    return 0;
};

function get_size_multiple_linux_x86-643(array: *, count: whole_8, nodes: *Nodes, define_values_map: HashMap, structure_members_array: AutoBuffer): whole_8 {
    variable total = 0;

    variable i = 0;
    while <(i, count) {
        if =(array8_get(array, i), 0) {
            return total;
        };
        total = +(total, get_size_linux_x86-643(@cast_*(array8_get(array, i)), nodes, define_values_map, structure_members_array));
        i = +(i, 1);
    };

    return total;
};

function get_size_multiple_linux_x86-642(array: *, count: whole_8, nodes: *Nodes): whole_8 {
    variable total = 0;

    variable i = 0;
    while <(i, count) {
        if =(array8_get(array, i), 0) {
            return total;
        };
        total = +(total, get_size_linux_x86-642(@cast_*(array8_get(array, i)), nodes));
        i = +(i, 1);
    };

    return total;
};

function get_size_multiple_reversed_linux_x86-643(array: *, count: whole_8, nodes: *Nodes, define_values_map: HashMap, structure_members_array: AutoBuffer): whole_8 {
    variable i = -(array8_length(array), 1);

    variable total = 0;

    while >(i, count) {
        total = +(total, get_size_linux_x86-643(@cast_*(array8_get(array, i)), nodes, define_values_map, structure_members_array));
        i = -(i, 1);
    };

    return total;
};

function get_size_multiple_reversed_linux_x86-642(array: *, count: whole_8, nodes: *Nodes): whole_8 {
    variable i = -(array8_length(array), 1);

    variable total = 0;

    while >(i, count) {
        total = +(total, get_size_linux_x86-642(@cast_*(array8_get(array, i)), nodes));
        i = -(i, 1);
    };

    return total;
};
